# conf/redis.conf

# 监听所有接口，以便容器间和宿主机可以访问
bind 192.168.139.162
port 7007
cluster-port 17007

# 开启集群模式
cluster-enabled yes

# 集群的配置文件，由 Redis 自动创建和管理。每个节点都会在自己的数据目录中生成此文件。
cluster-config-file nodes.conf

# 集群节点超时时间（毫秒）
cluster-node-timeout 5000

# 开启 AOF 持久化，推荐用于生产环境
appendonly yes

#将最大内存设置为 2 GB
#maxmemory 2gb

# 将最大内存设置为 50 MB
maxmemory 500mb
#maxmemory-policy allkeys-lru
maxmemory-policy allkeys-lfu

# 告诉 Redis，任何执行时间超过 5 毫秒 (10,000 微秒) 的命令都应该被记录
slowlog-log-slower-than 5000

# 最多在内存中保留 1024 条慢查询记录
slowlog-max-len 1024

# (可选) 如果你的环境需要密码，请取消下面两行的注释并设置强密码
# 在集群模式下，masterauth 和 requirepass 必须设置为相同的值
requirepass abc123456
masterauth abc123456

# 日志文件配置
logfile /logs/redis.log
