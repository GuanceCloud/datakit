# conf/redis-cluster-8-tls.conf
# Redis 集群节点 8 - TLS 配置

bind 192.168.139.162
# 禁用非 TLS 端口
port 0
tls-port 7008
cluster-port 17008

cluster-enabled yes
cluster-config-file nodes.conf
cluster-node-timeout 5000

appendonly yes

maxmemory 500mb
maxmemory-policy allkeys-lfu

slowlog-log-slower-than 5000
slowlog-max-len 1024

requirepass abc123456
masterauth abc123456

# TLS 配置
tls-ca-cert-file /tls/ca-cert.pem
tls-cert-file /tls/redis-server-cert.pem
tls-key-file /tls/redis-server-key.pem
tls-auth-clients no
tls-cluster yes
tls-replication yes
tls-protocols "TLSv1.2 TLSv1.3"
tls-prefer-server-ciphers yes
tls-session-caching yes
tls-session-cache-size 20480
tls-session-cache-timeout 300

